version: "3.1"

entities:
#scheduling entities
  - time
  - eventname
#emailing entities
  - email
  # - subject


intents:
#default intents, can remove later if needed
  - greet
  - goodbye
  - affirm
  - deny
#custom intents below
  - schedule
  - send_email
  

slots:
#scheduling slots
  timeslot:
    type: text  
    influence_conversation: true
    mappings:
      - type: from_entity
        entity: time

  eventname:
    type: text
    influence_conversation: true
    mappings:
      - type: from_entity
        entity: eventname

#emailing slot
  email:
    type: text
    influence_conversation: false
    mappings:
      - type: from_entity
        entity: email

  # subject:
  #   type: text
  #   influence_conversation: false
  #   mappings:
  #     - type: from_entity
  #       entity: subject
        
  body:
    type: text
    influence_conversation: false
    mappings:
      - type: from_text
        not_intent: send_email

forms:
  email_form:
    required_slots:
      - email
      - body




responses:
#default responses, can remove later
  utter_greet:
  - text: "Hey! How are you?"

  utter_did_that_help:
  - text: "Did that help you?"

  utter_happy:
  - text: "Great, carry on!"

  utter_goodbye:
  - text: "Bye"

#custom responses below
  utter_schedule:
  - text: "{eventname} booked for {timeslot}"

  utter_ask_email:
    - text: "Who would you like to send the email to?"

  utter_ask_body:
    - text: "What would you like to send?"

  utter_confirm_email:
    - text: "CONFIRM sending email to {email}: '{body}'"

  utter_email_sent:
    - text: "Email sent successfully to {email}!"
  # utter_email_not_sent:
  #   - text: "Oops! Something went wrong. The email was not sent."
  utter_email_canceled:
    - text: "Email canceled"

actions:
  - action_clear_email
  # - send_email





session_config:
  session_expiration_time: 60
  carry_over_slots_to_new_session: true


